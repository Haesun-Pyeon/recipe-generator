<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>오늘의 요리</title>
    <link rel="stylesheet" href="./main.css" />
    <script src="https://kit.fontawesome.com/67cab5a85c.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <header>
      <div class="head-box">
        <h1>
          <a href="./index.html"><i class="fa-solid fa-utensils"></i> 오늘의 요리</a>
        </h1>
        <a href="./main.html">추천받기</a>
        <a href="./save_list.html">불러오기</a>
      </div>
    </header>

    <main>
      <!-- 불러오기 클릭시 저장된 목록 불러오는 페이지 -->
      <div id="main-div">
        <table class="save-table">
          <thead>
            <tr>
              <th></th>
              <th>입력한 재료</th>
              <th>레시피 명</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <!-- 저장된 내용이 없을 때 뜨는 문구 -->
              <td id="none" colspan="3">저장된 내용이 없습니다.</td>
            </tr>
          </tbody>
        </table>
        <button type="button" class="delete-all">전체삭제</button>
      </div>
      <div id="answer"></div>
    </main>
    <script src="./save_list.js" type="module"></script>
    <script>
      //삭제버튼 클릭 시 -> 로컬스토리지에서 삭제
      function deleteResult(i) {
        let inputs = JSON.parse(localStorage["input"]);
        let titles = JSON.parse(localStorage["title"]);
        let ingredients = JSON.parse(localStorage["ingredient"]);
        let recipes = JSON.parse(localStorage["recipe"]);
        inputs.splice(i, 1);
        titles.splice(i, 1);
        ingredients.splice(i, 1);
        recipes.splice(i, 1);

        localStorage.setItem("input", JSON.stringify(inputs));
        localStorage.setItem("title", JSON.stringify(titles));
        localStorage.setItem("ingredient", JSON.stringify(ingredients));
        localStorage.setItem("recipe", JSON.stringify(recipes));

        if (localStorage["input"] === "[]") {
          localStorage.clear();
        }

        alert("삭제되었습니다.");
        location.reload();
      }
    </script>
  </body>
</html>
